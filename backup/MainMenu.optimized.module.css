/* MainMenu.module.css - パフォーマンス最適化版 */

/* GPU加速を使用した要素 */
.mainMenu {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* GPU加速で滑らかなレンダリング */
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
}

.mainMenu__container {
  /* Composite layerを作成してGPU最適化 */
  transform: translateZ(0);
  will-change: transform;
  /* メモリ効率化 */
  contain: layout style paint;
}

.mainMenu__title,
.mainMenu__subtitle {
  /* テキストレンダリング最適化 */
  text-rendering: optimizeSpeed;
  font-display: swap;
  /* GPU加速 */
  transform: translateZ(0);
  will-change: transform;
}

.mainMenu__navItem {
  /* ホバー効果のGPU最適化 */
  transition: transform 0.15s ease-out, opacity 0.15s ease-out;
  transform: translateZ(0);
  will-change: transform, opacity;
  /* レイアウトシフト防止 */
  contain: layout;
}

.mainMenu__navItem:hover {
  /* GPU最適化されたホバー効果 */
  transform: translateZ(0) scale(1.05);
}

.modal {
  /* モーダルのGPU最適化 */
  transform: translateZ(0);
  will-change: transform, opacity;
  backdrop-filter: blur(8px);
  /* モーダル専用のComposite layer */
  isolation: isolate;
}

.modal__overlay {
  /* オーバーレイの最適化 */
  transform: translateZ(0);
  will-change: opacity;
}

.modal__content {
  /* コンテンツのGPU加速 */
  transform: translateZ(0);
  will-change: transform;
  /* レイアウト最適化 */
  contain: layout style paint;
}

.modal__option {
  /* ボタンの最適化 */
  transition: transform 0.15s ease-out, opacity 0.15s ease-out;
  transform: translateZ(0);
  will-change: transform, background-color;
}

.modal__option:hover,
.modal__option--selected {
  /* 選択状態のGPU最適化 */
  transform: translateZ(0) translateX(5px);
}

/* アニメーション最適化 */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateZ(0) translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateZ(0) translateY(0);
  }
}

.mainMenu__nav {
  animation: fadeIn 0.3s ease-out;
  /* GPU加速でアニメーション最適化 */
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* メモリ効率化 */
.mainMenu__selectedMode,
.shortcut,
.footer {
  /* 軽量な要素にはGPU加速を適用しない */
  contain: style;
}

/* レスポンシブ最適化 */
@media (max-width: 768px) {
  .mainMenu__container {
    /* モバイルでのメモリ使用量削減 */
    contain: layout;
  }
  
  .modal__content {
    /* モバイルでのGPU使用量を抑制 */
    will-change: auto;
  }
}

/* ダークモード最適化 */
@media (prefers-color-scheme: dark) {
  .mainMenu {
    /* ダークモードでのコントラスト最適化 */
    color-scheme: dark;
  }
}

/* 高コントラストモード対応 */
@media (prefers-contrast: high) {
  .mainMenu__navItem,
  .modal__option {
    /* 高コントラストでのアクセシビリティ最適化 */
    forced-color-adjust: auto;
  }
}

/* Reduced motion対応 */
@media (prefers-reduced-motion: reduce) {
  .mainMenu__navItem,
  .modal__option,
  .mainMenu__nav {
    /* アニメーションを無効化してパフォーマンス向上 */
    animation: none;
    transition: none;
    will-change: auto;
  }
}
